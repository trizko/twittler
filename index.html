<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <script src="jquery.js"></script>
  <script src="data_generator.js"></script>
</head>

<body>
  <button type="button" class="btn btn-primary btn-lg btn-block">Show More Tweets</button>
  <div id="tweets"></div>

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="bootstrap/js/bootstrap.min.js"></script>

  <script>
    $(document).ready(function() {
      var $tweets = $('#tweets');

      var get_tweets = function() {
        $tweets.text('');
        var index = streams.home.length - 1;

        //sort stream to reverse chronological order
        streams.home.sort(function(a, b) {
          return new Date(b.created_at) - new Date(a.created_at);
        });

        while (index >= 0) {
          var tweet = streams.home[index];
          var $tweet = $('<div class="col-md-3"></div>');
          $tweet.text('@' +
                      tweet.user +
                      ': ' +
                      tweet.message +
                      'created at: ' +
                      tweet.created_at
                      );
          $tweet.prependTo($tweets);
          index -= 1;
        }
      };

      get_tweets();
      $('button').click(get_tweets);


    });
  </script>
</body>

</html>
